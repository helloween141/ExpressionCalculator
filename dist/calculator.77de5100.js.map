{"version":3,"sources":["calculator.ts","index.ts","../../../../Users/Dmitry/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../Users/Dmitry/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AEAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,SDDSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AHLJ,IGKIA,AHLJ,IGKQ,CAACI,KHLT,CGKI;ADCF,ACAC,AHNH,GGIE,MDEOnB,SAAP;AACD,AFPD,YAAA;AGOEgB,AHPF,EGOEA,OAAO,CAACI,CHPV,GGOE,GAAeL,IAAI,AHPrB,CGOsBK,EHPtB,EGOiB,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AHPU,EGOVA,IAAI,CAACS,EDCEtB,AFRG,QGOV,CAAgBuB,AHPN,GEQZ,AFRuC,CAC/B,EEOgB,CFRe,EAC1B,GGMX,AHPqC,CGORT,CHNb,GADqB,EAChB,CGMrB,EAAsCD,AHPD,EACX,EGMgB,CAACW,AHPN,CAA3B,UGOV;ADEA,ACDD,AHuHA;AErHC,AFNE,ACLJ,MCWM,CDXN,CAAA,cAAA,CAAA;ACYI,ACDJ,IAAIC,MDCM,IAAIxB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADZH,GCUE,CAEE,ADZJ,OCYWC,GAAP,EAAY,ADZhB,GAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;ACaI,ACFJ,QDEQC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGxB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AFVF,IAAM,EEUAoB,QFVU,EEUd,CFV6B,CEUb,GFViB,YAAA,CAAA,OAAJ,EAA/B;ACYI,ACDA,AHNO,ACHX,EDGW,ECHL,ICUEtB,IFPG,CAAA,CCHK,CCUZ,EAAa,ADVe,KDGrB,CAAA,ECH6B,CAAC,ODG9B,GAAP,ICH4B,CAAwB,KDGlC,KCHU,CA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","file":"calculator.77de5100.js","sourceRoot":"..","sourcesContent":["class Calculator {\r\n    private operators: Array<string> = [\r\n        '+', '-', '*', '/', '^'\r\n    ]\r\n\r\n    /*\r\n        Получить результат\r\n    */\r\n    public calcResult(expression: string): number {\r\n        const postfixOutput: string = this.getPostfixOutput(this.prepareExpression(expression))\r\n        if (postfixOutput) {\r\n            return this.computePostfixExpression(postfixOutput)\r\n        } \r\n\r\n        return 0\r\n    }\r\n\r\n    /*\r\n        Расчет результата по постфиксному выражению\r\n    */\r\n    private computePostfixExpression(postfixExpression: string): number {\r\n        let stack: Array<number> = []\r\n        let pieces: Array<string> = postfixExpression.split(' ')\r\n\r\n        for (const symb of pieces) {\r\n            if (this.isDigit(symb)) {\r\n                stack.push(+symb)           \r\n            } else if (this.isSign(symb)) {\r\n                const firstDigit: number = stack.pop()\r\n                const secondDigit: number = stack.pop()\r\n                let result: number = 0\r\n\r\n                switch (symb) {\r\n                    case '+': result = secondDigit + firstDigit; \r\n                    break\r\n                    case '-': result = secondDigit - firstDigit;\r\n                    break\r\n                    case '*': result = secondDigit * firstDigit;\r\n                    break\r\n                    case '/': result = secondDigit / firstDigit; \r\n                    break\r\n                    case '^': result = Math.pow(secondDigit, firstDigit); \r\n                    break\r\n                }\r\n                stack.push(result)\r\n            }\r\n        }\r\n\r\n        return stack.reduce((acc, currentValue) => acc + currentValue)\r\n    }\r\n\r\n    /*\r\n        Получить постфиксную запись выражения\r\n        Алгоритм: Обратная польская нотация\r\n    */\r\n    private getPostfixOutput(expression: string): string {\r\n        let stack: Array<string> = []\r\n        let output: Array<string> = []\r\n        \r\n        let digitFlag: boolean = false\r\n        for (const symb of expression) {\r\n            if (this.isDigit(symb)) {\r\n                if (!digitFlag) {\r\n                    output.push(symb)\r\n                    digitFlag = true\r\n                } else {\r\n                    output[output.length - 1] += symb\r\n                } \r\n            } else {\r\n                digitFlag = false\r\n                if (symb === '(') {\r\n                    stack.push(symb)\r\n                } else if (symb === ')') {\r\n                    while (stack[stack.length - 1] !== '(') {\r\n                        output.push(stack.pop())\r\n                    } \r\n                    stack.pop()\r\n                }\r\n                else if (this.isSign(symb)) {\r\n                    if (stack.length > 0) {\r\n                        while (this.getPriority(symb) <= this.getPriority(stack[stack.length - 1])) {\r\n                            output.push(stack.pop())\r\n                        } \r\n                    }\r\n                    stack.push(symb)\r\n                }\r\n            }\r\n        }\r\n        const result: string = output.concat(stack.reverse()).join(' ')\r\n        return result ?? ''\r\n    }\r\n\r\n    /*\r\n        Получить приоритет оператора\r\n    */\r\n    private getPriority(symb: string): number {\r\n        switch(symb) {\r\n            case '(': return 0\r\n            case ')': return 1\r\n            case '+': return 2\r\n            case '-': return 2\r\n            case '*': return 3\r\n            case '/': return 3\r\n            case '^': return 4\r\n        }\r\n        return 0\r\n    }\r\n\r\n    /*\r\n        Проверить символ на принадлежность к оператору\r\n    */\r\n    private isSign(symb: string): boolean {\r\n        return this.operators.find(operator => operator === symb) ? true : false\r\n    }\r\n\r\n    /*\r\n        Проверить символ на цифру\r\n    */\r\n    private isDigit(symb: string): boolean {\r\n        return symb >= '0' && symb <= '9' \r\n    }\r\n\r\n    /*\r\n        Приготовить выражение\r\n    */\r\n    private prepareExpression(expression: string): string {\r\n        return expression.replace(/ /g,'')\r\n    }\r\n}\r\n\r\nexport default Calculator","import './style.scss'\r\nimport Calculator from './calculator'\r\n\r\nconst calculator: Calculator = new Calculator()\r\n\r\nconst calcButton: HTMLElement = document.getElementById('calc-btn')\r\n\r\ncalcButton.addEventListener('click', function(e) {\r\n    const expression: string = (<HTMLInputElement>document.getElementById('expression-input')).value\r\n    const resultValue: number = calculator.calcResult(expression)\r\n\r\n    const resultElement: HTMLElement = document.getElementById('result') as HTMLElement\r\n    resultElement.innerHTML = 'Результат: ' + resultValue.toString()\r\n})\r\n\r\n\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}